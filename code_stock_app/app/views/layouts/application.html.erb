<!DOCTYPE html>
<html>
<head>
  <title>CodeStock</title>
  <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' => true %>
  <%= javascript_include_tag 'application', 'data-turbolinks-track' => true %>
  <%= csrf_meta_tags %>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

  <nav class="navbar navbar-default">
    <div class="container-fluid">
        <ul class="nav navbar-nav">
          <li><%= link_to 'Home', root_path %></li>

          <!-- if nobody is signed in -->
          <% unless @current_user.present? %>
            <li><%= link_to 'Sign up', new_user_path %></li>
            <li><%= link_to 'Log in', login_path %></li>
          <% end %>

          <!-- if a user is signed in -->
          <% if  @current_user.present? %>

            <!-- check if admin -->
            <% if @current_user.is_admin? %>
              <li><%= link_to 'All users', users_path %></li>
            <% end %>

            <li><a href="/users/<%= @current_user.id %>">My Profile</a></li>
            <li><%= link_to 'Sign out ' + @current_user.name, login_path, :method => :delete %></li>
            <li><%= link_to 'Create a new post', new_post_path %></li>
            <li><%= link_to 'My Library', "/libraries/#{ @current_user.id }" %></li>
          <% end %>
          <li><%= link_to 'View posts', posts_path %></li>
        </ul>
    </div>
  </nav>


  <div class="container">
    <%= yield %>
  </div>

</body>
</html>
